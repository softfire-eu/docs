
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../favicon.ico">
      
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-1.6.1">
    
    
      
        <title>Monitoring-VNF - SoftFIRE Software Documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-4d0d3f2fbf.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="deep-orange" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="SoftFIRE Software Documentation" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Tutorials
                </span>
              
                <span class="md-header-nav__parent">
                  Nfv Tutorial
                </span>
              
            
            Monitoring-VNF
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/SoftFIRE-eu/experiment-manager/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      SoftFIRE Experiment Manager
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    SoftFIRE Software Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/SoftFIRE-eu/experiment-manager/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      SoftFIRE Experiment Manager
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      SoftFIRE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        SoftFIRE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../softfire-middleware/" title="SoftFIRE Middleware" class="md-nav__link">
      SoftFIRE Middleware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../softfire-available-resources/" title="SoftFIRE available resources" class="md-nav__link">
      SoftFIRE available resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Wiki
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Wiki
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../experiment-manager/" title="Experiment Manager" class="md-nav__link">
      Experiment Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../experiment-definition/" title="Define your experiment" class="md-nav__link">
      Define your experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-manager/" title="NFV Manager" class="md-nav__link">
      NFV Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      SDN Manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        SDN Manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-manager/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5-2" type="checkbox" id="nav-2-5-2">
    
    <label class="md-nav__link" for="nav-2-5-2">
      OpenSDNCore
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-5-2">
        OpenSDNCore
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../opensdncore/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../osdnc-controller/" title="Controller" class="md-nav__link">
      Controller
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../opensdncore-nb-api/" title="API Documentation" class="md-nav__link">
      API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5-3" type="checkbox" id="nav-2-5-3">
    
    <label class="md-nav__link" for="nav-2-5-3">
      OpenDaylight
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-5-3">
        OpenDaylight
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../opendaylight/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../opendaylight-openflow-api/" title="API Documentation" class="md-nav__link">
      API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pd-manager/" title="Physical Device Manager" class="md-nav__link">
      Physical Device Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      Security Manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        Security Manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../security-manager/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firewall/" title="Firewall" class="md-nav__link">
      Firewall
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../suricata/" title="Suricata NIPS" class="md-nav__link">
      Suricata NIPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pfsense/" title="pfSense router/FW" class="md-nav__link">
      pfSense router/FW
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monitoring-manager/" title="Monitoring Manager" class="md-nav__link">
      Monitoring Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Nfv Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Nfv Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-tutorial-iperf/" title="Iperf" class="md-nav__link">
      Iperf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-tutorial-custom/" title="Custom" class="md-nav__link">
      Custom
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Monitoring-VNF
      </label>
    
    <a href="./" title="Monitoring-VNF" class="md-nav__link md-nav__link--active">
      Monitoring-VNF
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#defining-the-network-service" title="Defining the Network Service" class="md-nav__link">
    Defining the Network Service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-the-nsdyaml-file" title="Creating the nsd.yaml file" class="md-nav__link">
    Creating the nsd.yaml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-tosca-metadata" title="Configuring the TOSCA-Metadata" class="md-nav__link">
    Configuring the TOSCA-Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-required-scripts-files" title="The required Scripts files:" class="md-nav__link">
    The required Scripts files:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scriptsclientinstallsh" title="Scripts/client/install.sh" class="md-nav__link">
    Scripts/client/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsserverinstallsh" title="Scripts/server/install.sh" class="md-nav__link">
    Scripts/server/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsclientzabbix_configure_agentsh" title="Scripts/client/zabbix_configure_agent.sh" class="md-nav__link">
    Scripts/client/zabbix_configure_agent.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsserverzabbix_configure_agentsh" title="Scripts/server/zabbix_configure_agent.sh" class="md-nav__link">
    Scripts/server/zabbix_configure_agent.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixinstallsh" title="Scripts/zabbix/install.sh" class="md-nav__link">
    Scripts/zabbix/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixzabbixconfphp" title="Scripts/zabbix/zabbix.conf.php" class="md-nav__link">
    Scripts/zabbix/zabbix.conf.php
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixdefault_options" title="Scripts/zabbix/default_options" class="md-nav__link">
    Scripts/zabbix/default_options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Sdn Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Sdn Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-tutorial/" title="Sdn" class="md-nav__link">
      Sdn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../osdnc-examples/" title="OpenSDNCore" class="md-nav__link">
      OpenSDNCore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-iperf+odl-sdn/" title="Opendaylight" class="md-nav__link">
      Opendaylight
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sec-tutorial/" title="Security Tutorial" class="md-nav__link">
      Security Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mon-tutorial/" title="Monitoring Tutorial" class="md-nav__link">
      Monitoring Tutorial
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Dev
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Dev
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Install the SoftFIRE Middleware
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Install the SoftFIRE Middleware
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install-softfire-middleware/" title="Code install" class="md-nav__link">
      Code install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-softfire-middleware-docker/" title="Docker install" class="md-nav__link">
      Docker install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-manager/" title="Write a sub manager" class="md-nav__link">
      Write a sub manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gen-certificate/" title="How to generate a certificate" class="md-nav__link">
      How to generate a certificate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-manager-dev/" title="SDN Manager developers" class="md-nav__link">
      SDN Manager developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integration-test/" title="SoftFIRE Integration Tests" class="md-nav__link">
      SoftFIRE Integration Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Extras
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Extras
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../openvpnconfig/" title="OpenVPN Manual configuration" class="md-nav__link">
      OpenVPN Manual configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../slack/" title="Slack User Guide" class="md-nav__link">
      Slack User Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#defining-the-network-service" title="Defining the Network Service" class="md-nav__link">
    Defining the Network Service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-the-nsdyaml-file" title="Creating the nsd.yaml file" class="md-nav__link">
    Creating the nsd.yaml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-tosca-metadata" title="Configuring the TOSCA-Metadata" class="md-nav__link">
    Configuring the TOSCA-Metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-required-scripts-files" title="The required Scripts files:" class="md-nav__link">
    The required Scripts files:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scriptsclientinstallsh" title="Scripts/client/install.sh" class="md-nav__link">
    Scripts/client/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsserverinstallsh" title="Scripts/server/install.sh" class="md-nav__link">
    Scripts/server/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsclientzabbix_configure_agentsh" title="Scripts/client/zabbix_configure_agent.sh" class="md-nav__link">
    Scripts/client/zabbix_configure_agent.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsserverzabbix_configure_agentsh" title="Scripts/server/zabbix_configure_agent.sh" class="md-nav__link">
    Scripts/server/zabbix_configure_agent.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixinstallsh" title="Scripts/zabbix/install.sh" class="md-nav__link">
    Scripts/zabbix/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixzabbixconfphp" title="Scripts/zabbix/zabbix.conf.php" class="md-nav__link">
    Scripts/zabbix/zabbix.conf.php
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptszabbixdefault_options" title="Scripts/zabbix/default_options" class="md-nav__link">
    Scripts/zabbix/default_options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SoftFIRE-eu/experiment-manager/edit/master/docs/nfv-tutorial-monitoring-vnf.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="nfv-tutorial-monitoring-vnf">Nfv tutorial Monitoring-VNF<a class="headerlink" href="#nfv-tutorial-monitoring-vnf" title="Permanent link">&para;</a></h1>
<p>This tutorial will show you how to create a monitoring resources as a Virtual Network Funtion (VNF).
The Network Service that we write will be very simple and contains three VNFs, one acting as an iperf-server, one acting as an iperf-client and one acting as a monitoring resource (Zabbix-server).</p>
<p>This tutorial focuses on creating the Network Service Descriptor (NSD) which you can use in your experiement. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tutorial assumes that you use a Unix system.</p>
</div>
<h2 id="defining-the-network-service">Defining the Network Service<a class="headerlink" href="#defining-the-network-service" title="Permanent link">&para;</a></h2>
<p>We are assuming that you know how to create a custom NFV resource from the NFV custom tutorial, so we will focus on the main differences that you should consider when defining the network service.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In-depth information about how to write a NSD with TOSCA and build a CSAR file with it can be found <a href="http://openbaton.github.io/documentation/tosca-CSAR-onboarding">here</a>.</p>
</div>
<h3 id="creating-the-nsdyaml-file">Creating the nsd.yaml file<a class="headerlink" href="#creating-the-nsdyaml-file" title="Permanent link">&para;</a></h3>
<p>The structure of the zabbix server VNF descriptor in the nsd yaml file should be similar to the below example:</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">zabbixserver</span><span class="p p-Indicator">:</span> <span class="c1">#VNF1</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">openbaton.type.VNF</span>
        <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">ID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zabbix-server</span>
          <span class="l l-Scalar l-Scalar-Plain">vendor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">FOKUS</span>
          <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
          <span class="l l-Scalar l-Scalar-Plain">endpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">generic</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zabbix</span>
          <span class="l l-Scalar l-Scalar-Plain">configurations</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">configurationParameters</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zabbix</span>
            <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zabbixserver-configuration</span>
          <span class="l l-Scalar l-Scalar-Plain">deploymentFlavour</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">flavour_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>
        <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">vdu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU3</span>
        <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">lifecycle</span><span class="p p-Indicator">:</span> <span class="c1"># lifecycle</span>
            <span class="l l-Scalar l-Scalar-Plain">INSTANTIATE</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">install.sh</span>
</pre></div>

<p>The most important parameters should be configured in the zabbix server VNF descriptor example are: <em>type</em>, <em>ConfigurationParameters</em>, and the <em>lifecycle INSTANTIATE</em> script (<em>install.sh</em>) to install and configure the zabbix server.</p>
<p>For all other VNFs who will need to be monitored, a lifecycle event <em>CONFIGURE</em> script (zabbix_configure_agent.sh) should be added to install and configure zabbix agent as shown in example below for the iperf-client:</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">iperf-client</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">openbaton.type.VNF</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">ID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">client-vnf</span>
        <span class="l l-Scalar l-Scalar-Plain">vendor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">FOKUS</span>
        <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">client</span>
        <span class="l l-Scalar l-Scalar-Plain">deploymentFlavour</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">flavour_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>

        <span class="l l-Scalar l-Scalar-Plain">endpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">generic</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Server-Network</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">vdu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU1</span>
      <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">lifecycle</span><span class="p p-Indicator">:</span> <span class="c1"># lifecycle</span>
            <span class="l l-Scalar l-Scalar-Plain">INSTANTIATE</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">install.sh</span>
            <span class="l l-Scalar l-Scalar-Plain">CONFIGURE</span><span class="p p-Indicator">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">zabbix_configure_agent.sh</span>
</pre></div>

<p>The same as above should be configured for iperf-server.</p>
<p>In the nsd yaml, the relation dependency should be provided to let zabbix server be ready first then configure the zabbix agent in the monitored VNFs as the example shown below:</p>
<p><div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">relationships_template</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">rel1</span><span class="p p-Indicator">:</span> 
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.relationships.ConnectsTo</span>
    <span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">zabbixserver</span>
    <span class="l l-Scalar l-Scalar-Plain">target</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">iperf-client</span>
    <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal_floatingIp</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
</pre></div>
The above relationship should be replicated with all other VNFs (iperf-server VNF in this example) that you need to monitor.</p>
<p>For the relation dependency, the zabbixserver should be the source and other VNFs should be the target. Also adding the floating ip and the name parameters is a must, as the zabbix_agent_configuration script will be based on them.</p>
<p>For this solution, Ubuntu-14.04 image should be used for the zabbix-server VNF that can be configured in the nsd yaml in the VDU part by adding the artifacts parameter including the image file required as shown in the example below. This way will add more flexibility in using different images per VNFs.</p>
<div class="codehilite"><pre><span></span>    <span class="l l-Scalar l-Scalar-Plain">VDU2</span><span class="p p-Indicator">:</span> <span class="c1"># This VDU is used by other VNF</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.VDU</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">scale_in_out</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtual_link</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">CP2</span>
      <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">VDU2Image</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.artifacts.Deployment.Image.VM</span>
          <span class="l l-Scalar l-Scalar-Plain">file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu-16.04</span>
    <span class="l l-Scalar l-Scalar-Plain">VDU3</span><span class="p p-Indicator">:</span> <span class="c1"># This VDU is used by the zabbix server</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.VDU</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">scale_in_out</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtual_link</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">CP3</span>
      <span class="l l-Scalar l-Scalar-Plain">artifacts</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">VDU3Image</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.artifacts.Deployment.Image.VM</span>
          <span class="l l-Scalar l-Scalar-Plain">file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu-14.04</span>
</pre></div>

<h3 id="configuring-the-tosca-metadata">Configuring the TOSCA-Metadata<a class="headerlink" href="#configuring-the-tosca-metadata" title="Permanent link">&para;</a></h3>
<p>The configuration of the image name in the Metadata.yaml file should be removed as we already define the images files in the nsd.yaml file. An exmaple is shown below:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Iperf Example</span>
<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Iperf Example.</span>
<span class="l l-Scalar l-Scalar-Plain">provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">FOKUS</span>
<span class="l l-Scalar l-Scalar-Plain">nfvo_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5.0.1</span>
<span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">upload</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="l l-Scalar l-Scalar-Plain">vim_types</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">openstack</span>
</pre></div>

<h3 id="the-required-scripts-files">The required Scripts files:<a class="headerlink" href="#the-required-scripts-files" title="Permanent link">&para;</a></h3>
<p>Here are the contents of the scripts' files:</p>
<h6 id="scriptsclientinstallsh">Scripts/client/install.sh<a class="headerlink" href="#scriptsclientinstallsh" title="Permanent link">&para;</a></h6>
<h6 id="scriptsserverinstallsh">Scripts/server/install.sh<a class="headerlink" href="#scriptsserverinstallsh" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;installing!!!&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Avoid long outputs! so redirect the output to a file that you can later check, for instance:&quot;</span>
sudo apt-get update &gt; /tmp/install.log
<span class="nb">echo</span> <span class="s2">&quot;apt update worked!&quot;</span>
sudo apt-get install -y cowsay &gt;&gt; /tmp/install.log

<span class="nb">echo</span> <span class="s2">&quot;check the env before running special commands&quot;</span>
env
<span class="nb">echo</span> <span class="s2">&quot;like this one...&quot;</span>
/usr/games/cowsay -f tux <span class="s2">&quot;install successfull&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Installing IPERF&quot;</span>
sudo apt-get install -y iperf screen
<span class="nb">echo</span> <span class="s2">&quot; iperf is installed&quot;</span>
</pre></div>
This is the first script executed on the iperf-server and iperf-client VNFs.</p>
<p>This following scripts are executed for configuring the zabbix-agent for the iperf-server and iperf-client VNFs.</p>
<h6 id="scriptsclientzabbix_configure_agentsh">Scripts/client/zabbix_configure_agent.sh<a class="headerlink" href="#scriptsclientzabbix_configure_agentsh" title="Permanent link">&para;</a></h6>
<h6 id="scriptsserverzabbix_configure_agentsh">Scripts/server/zabbix_configure_agent.sh<a class="headerlink" href="#scriptsserverzabbix_configure_agentsh" title="Permanent link">&para;</a></h6>
<p><div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">if</span> <span class="o">[[</span> -z <span class="s2">&quot;</span><span class="nv">$zabbix_softfire_internal_floatingIp</span><span class="s2">&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;softfire_internal_floatingIp is required&quot;</span>
  <span class="nb">exit</span> <span class="m">1</span>
<span class="k">fi</span>

<span class="nb">export</span> <span class="nv">MONITORING_IP</span><span class="o">=</span><span class="nv">$zabbix_softfire_internal_floatingIp</span>

<span class="nb">echo</span> <span class="s2">&quot;Installing zabbix-agent for server at </span><span class="nv">$MONITORING_IP</span><span class="s2">&quot;</span>

sudo apt-get install -y zabbix-agent
sudo sed -i -e <span class="s2">&quot;s/ServerActive=127.0.0.1/ServerActive=</span><span class="nv">$MONITORING_IP</span><span class="s2">:10051/g&quot;</span> -e <span class="s2">&quot;s/Server=127.0.0.1/Server=</span><span class="nv">$MONITORING_IP</span><span class="s2">/g&quot;</span> -e <span class="s2">&quot;s/Hostname=Zabbix server/#Hostname=/g&quot;</span> /etc/zabbix/zabbix_agentd.conf
sudo service zabbix-agent restart
<span class="nb">echo</span> <span class="s2">&quot;finished installing zabbix-agent!&quot;</span>
</pre></div>
This script uses the values passed by the dependency to configure the zabbix-agent, e.g. the zabbix-server configuration parameters and floating IP address.</p>
<p>The scripts below are needed to install zabbix-server:</p>
<h6 id="scriptszabbixinstallsh">Scripts/zabbix/install.sh<a class="headerlink" href="#scriptszabbixinstallsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="c1"># asterisk installation script and configuration for sipas</span>

<span class="c1"># sane defaults</span>
<span class="nv">SERVICE</span><span class="o">=</span><span class="s2">&quot;zabbix&quot;</span>
<span class="nv">LOGFILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/install.log&quot;</span>
<span class="nv">CONFIG_FOLDER</span><span class="o">=</span><span class="s2">&quot;/etc/zabbix/&quot;</span>

<span class="c1"># If there are default options load them </span>
<span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;</span><span class="nv">$SCRIPTS_PATH</span><span class="s2">/default_options&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
      <span class="nb">source</span> <span class="nv">$SCRIPTS_PATH</span>/default_options
<span class="k">fi</span>

<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$SERVICE</span><span class="s2"> : Installing zabbix server 3.0&quot;</span>
sudo su
wget http://repo.zabbix.com/zabbix/3.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_3.0-1+trusty_all.deb
dpkg -i zabbix-release_3.0-1+trusty_all.deb
rm zabbix-release_3.0-1+trusty_all.deb
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$SERVICE</span><span class="s2"> : Added zabbix repo&quot;</span>

<span class="nb">export</span> <span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nv">mysql_pass</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
apt-get update <span class="o">&amp;&amp;</span> apt-get -y install mysql-server zabbix-server-mysql zabbix-frontend-php
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$SERVICE</span><span class="s2"> : Finished installing packages&quot;</span>

sed -i <span class="s1">&#39;s/;date.timezone =/date.timezone = &quot;Europe\/Berlin&quot;/&#39;</span> /etc/php5/apache2/php.ini
sed -i <span class="s1">&#39;s/# DBPassword=/DBPassword=/&#39;</span> /etc/zabbix/zabbix_server.conf
cp <span class="nv">$SCRIPTS_PATH</span>/zabbix.conf.php /etc/zabbix/web/zabbix.conf.php 

mysql -uroot -e <span class="s2">&quot;create database zabbix character set utf8 collate utf8_bin;&quot;</span> --password<span class="o">=</span><span class="s2">&quot;&quot;</span>
mysql -uroot -e <span class="s2">&quot;grant all privileges on zabbix.* to zabbix@localhost identified by &#39;&#39;;&quot;</span> --password<span class="o">=</span><span class="s2">&quot;&quot;</span>
zcat /usr/share/doc/zabbix-server-mysql/create.sql.gz <span class="p">|</span> mysql -uroot zabbix

service apache2 reload
service zabbix-server restart
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$SERVICE</span><span class="s2"> : Changed configuration and restarted service&quot;</span>

wget https://raw.githubusercontent.com/openbaton/juju-charm/develop/hooks/zbx_helper.py

python zbx_helper.py -a
</pre></div>

<p>This script will install and configure zabbix server. It also makes use of the below files during the installation.</p>
<h6 id="scriptszabbixzabbixconfphp">Scripts/zabbix/zabbix.conf.php<a class="headerlink" href="#scriptszabbixzabbixconfphp" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span>&lt;?php
// Zabbix GUI configuration file.
global <span class="nv">$DB</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;TYPE&#39;</span><span class="o">]</span>     <span class="o">=</span> <span class="s1">&#39;MYSQL&#39;</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;SERVER&#39;</span><span class="o">]</span>   <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;PORT&#39;</span><span class="o">]</span>     <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;DATABASE&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;zabbix&#39;</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;USER&#39;</span><span class="o">]</span>     <span class="o">=</span> <span class="s1">&#39;zabbix&#39;</span><span class="p">;</span>
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;PASSWORD&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
// Schema name. Used <span class="k">for</span> IBM DB2 and PostgreSQL.
<span class="nv">$DB</span><span class="o">[</span><span class="s1">&#39;SCHEMA&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nv">$ZBX_SERVER</span>      <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
<span class="nv">$ZBX_SERVER_PORT</span> <span class="o">=</span> <span class="s1">&#39;10051&#39;</span><span class="p">;</span>
<span class="nv">$ZBX_SERVER_NAME</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nv">$IMAGE_FORMAT_DEFAULT</span> <span class="o">=</span> IMAGE_FORMAT_PNG<span class="p">;</span>
</pre></div>

<h6 id="scriptszabbixdefault_options">Scripts/zabbix/default_options<a class="headerlink" href="#scriptszabbixdefault_options" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="nv">LOGFILE</span><span class="o">=</span><span class="s2">&quot;/home/ubuntu/install.log&quot;</span>
<span class="nv">SERVICE</span><span class="o">=</span><span class="s2">&quot;zabbix&quot;</span>
<span class="nv">CONFIG_FOLDER</span><span class="o">=</span><span class="s2">&quot;/etc/zabbix/&quot;</span>
</pre></div>

<p>This is everything we need to aware about while configuring a monitoring-VNF in our NSD. Now we can archive everything as a csar archive.</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>In this tutorial we created an NSD has a monitoring VNF.
For this we showed the main differences with the NFV custom tutorial that need to be considered.
We showed the needed scripts for installing zabbix-server and zabbix-agent in the other VNFs.</p>
<p>A Complete NSD TOSCA files are exist as a full example <a href="https://github.com/softfire-eu/monitoring-vnf">here</a>.</p>
<!--
References:  
-->

<!---
 Script for open external links in a new tab
-->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>

<script type="text/javascript" charset="utf-8">
      // Creating custom :external selector
      $.expr[':'].external = function(obj){
          return !obj.href.match(/^mailto\:/)
                  && (obj.hostname != location.hostname);
      };
      $(function(){
        $('a:external').addClass('external');
        $(".external").attr('target','_blank');
      })
</script>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../nfv-tutorial-custom/" title="Custom" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Custom
              </span>
            </div>
          </a>
        
        
          <a href="../sdn-tutorial/" title="Sdn" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Sdn
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2016-2018 SoftFIRE (http://softfire.eu)
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/SoftFIRE-eu" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://softfire.slack.com/" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://hub.docker.com/r/softfire/softfire-middleware/" class="md-footer-social__link fa fa-docker"></a>
    
      <a href="https://www.linkedin.com/company-beta/15145251/" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.youtube.com/channel/UCYEe_8W-0vJ97-1OXsSjU8A" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>