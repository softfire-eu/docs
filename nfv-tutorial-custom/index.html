
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../favicon.ico">
      
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-1.6.1">
    
    
      
        <title>Custom - SoftFIRE Software Documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-4d0d3f2fbf.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="deep-orange" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="SoftFIRE Software Documentation" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Tutorials
                </span>
              
                <span class="md-header-nav__parent">
                  Nfv Tutorial
                </span>
              
            
            Custom
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/SoftFIRE-eu/experiment-manager/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      SoftFIRE Experiment Manager
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    SoftFIRE Software Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/SoftFIRE-eu/experiment-manager/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      SoftFIRE Experiment Manager
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      SoftFIRE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        SoftFIRE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../softfire-middleware/" title="SoftFIRE Middleware" class="md-nav__link">
      SoftFIRE Middleware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../softfire-available-resources/" title="SoftFIRE available resources" class="md-nav__link">
      SoftFIRE available resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Wiki
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Wiki
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../experiment-manager/" title="Experiment Manager" class="md-nav__link">
      Experiment Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../experiment-definition/" title="Define your experiment" class="md-nav__link">
      Define your experiment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-manager/" title="NFV Manager" class="md-nav__link">
      NFV Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      SDN Manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        SDN Manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-manager/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5-2" type="checkbox" id="nav-2-5-2">
    
    <label class="md-nav__link" for="nav-2-5-2">
      OpenSDNCore
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-5-2">
        OpenSDNCore
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../opensdncore/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../osdnc-controller/" title="Controller" class="md-nav__link">
      Controller
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../opensdncore-nb-api/" title="API Documentation" class="md-nav__link">
      API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5-3" type="checkbox" id="nav-2-5-3">
    
    <label class="md-nav__link" for="nav-2-5-3">
      OpenDaylight
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-5-3">
        OpenDaylight
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../opendaylight/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../opendaylight-openflow-api/" title="API Documentation" class="md-nav__link">
      API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pd-manager/" title="Physical Device Manager" class="md-nav__link">
      Physical Device Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      Security Manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        Security Manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../security-manager/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firewall/" title="Firewall" class="md-nav__link">
      Firewall
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../suricata/" title="Suricata NIPS" class="md-nav__link">
      Suricata NIPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pfsense/" title="pfSense router/FW" class="md-nav__link">
      pfSense router/FW
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monitoring-manager/" title="Monitoring Manager" class="md-nav__link">
      Monitoring Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      Nfv Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Nfv Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-tutorial-iperf/" title="Iperf" class="md-nav__link">
      Iperf
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Custom
      </label>
    
    <a href="./" title="Custom" class="md-nav__link md-nav__link--active">
      Custom
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-the-experiment-structure" title="Create the experiment structure" class="md-nav__link">
    Create the experiment structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-the-network-service" title="Defining the Network Service" class="md-nav__link">
    Defining the Network Service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverinstallsh" title="Scripts/ubuntuserver/install.sh" class="md-nav__link">
    Scripts/ubuntuserver/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverubuntuclient_relationsh" title="Scripts/ubuntuserver/ubuntuclient_relation.sh" class="md-nav__link">
    Scripts/ubuntuserver/ubuntuclient_relation.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverstartsh" title="Scripts/ubuntuserver/start.sh" class="md-nav__link">
    Scripts/ubuntuserver/start.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientinstallsh" title="Scripts/ubuntuclient/install.sh" class="md-nav__link">
    Scripts/ubuntuclient/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientubuntuserver_relationsh" title="Scripts/ubuntuclient/ubuntuserver_relation.sh" class="md-nav__link">
    Scripts/ubuntuclient/ubuntuserver_relation.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientstartsh" title="Scripts/ubuntuclient/start.sh" class="md-nav__link">
    Scripts/ubuntuclient/start.sh
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nfv-tutorial-monitoring-vnf/" title="Monitoring-VNF" class="md-nav__link">
      Monitoring-VNF
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Sdn Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Sdn Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-tutorial/" title="Sdn" class="md-nav__link">
      Sdn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../osdnc-examples/" title="OpenSDNCore" class="md-nav__link">
      OpenSDNCore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-iperf+odl-sdn/" title="Opendaylight" class="md-nav__link">
      Opendaylight
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sec-tutorial/" title="Security Tutorial" class="md-nav__link">
      Security Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mon-tutorial/" title="Monitoring Tutorial" class="md-nav__link">
      Monitoring Tutorial
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Dev
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Dev
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Install the SoftFIRE Middleware
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Install the SoftFIRE Middleware
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install-softfire-middleware/" title="Code install" class="md-nav__link">
      Code install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-softfire-middleware-docker/" title="Docker install" class="md-nav__link">
      Docker install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sub-manager/" title="Write a sub manager" class="md-nav__link">
      Write a sub manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gen-certificate/" title="How to generate a certificate" class="md-nav__link">
      How to generate a certificate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sdn-manager-dev/" title="SDN Manager developers" class="md-nav__link">
      SDN Manager developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integration-test/" title="SoftFIRE Integration Tests" class="md-nav__link">
      SoftFIRE Integration Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Extras
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Extras
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../openvpnconfig/" title="OpenVPN Manual configuration" class="md-nav__link">
      OpenVPN Manual configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../slack/" title="Slack User Guide" class="md-nav__link">
      Slack User Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-the-experiment-structure" title="Create the experiment structure" class="md-nav__link">
    Create the experiment structure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-the-network-service" title="Defining the Network Service" class="md-nav__link">
    Defining the Network Service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverinstallsh" title="Scripts/ubuntuserver/install.sh" class="md-nav__link">
    Scripts/ubuntuserver/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverubuntuclient_relationsh" title="Scripts/ubuntuserver/ubuntuclient_relation.sh" class="md-nav__link">
    Scripts/ubuntuserver/ubuntuclient_relation.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuserverstartsh" title="Scripts/ubuntuserver/start.sh" class="md-nav__link">
    Scripts/ubuntuserver/start.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientinstallsh" title="Scripts/ubuntuclient/install.sh" class="md-nav__link">
    Scripts/ubuntuclient/install.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientubuntuserver_relationsh" title="Scripts/ubuntuclient/ubuntuserver_relation.sh" class="md-nav__link">
    Scripts/ubuntuclient/ubuntuserver_relation.sh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptsubuntuclientstartsh" title="Scripts/ubuntuclient/start.sh" class="md-nav__link">
    Scripts/ubuntuclient/start.sh
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SoftFIRE-eu/experiment-manager/edit/master/docs/nfv-tutorial-custom.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="nfv-tutorial-custom">Nfv tutorial Custom<a class="headerlink" href="#nfv-tutorial-custom" title="Permanent link">&para;</a></h1>
<p>This tutorial will show you how to create a SoftFIRE experiment with a custom NFV resource.<br />
This means that the experiment does not contain a Network Service provided by SoftFIRE, like it is the case in the <a href="../nfv-tutorial-iperf/">Nfv tutorial Iperf</a>, but that you will write your own custom Network Service.<br />
The Network Service that we write will be very simple and contain of two Virtual Network Functions (VNF), one acting as a server and one acting as a client.</p>
<p>In the first part we will create the experiment structure and in the second part we will add the csar archive containing the custom Network Service Descriptor (NSD) to it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tutorial assumes that you use a Unix system.</p>
</div>
<h2 id="create-the-experiment-structure">Create the experiment structure<a class="headerlink" href="#create-the-experiment-structure" title="Permanent link">&para;</a></h2>
<p>First of all we need to create a folder which will contain all the necessary files.</p>
<div class="codehilite"><pre><span></span>mkdir custom-experiment
<span class="nb">cd</span> custom-experiment
<span class="sb">````</span>

<span class="k">then</span> we have to add the sub folders

<span class="sb">```</span>sh
mkdir Files
mkdir TOSCA-Metadata
mkdir Definitions
</pre></div>

<p>and create files describing the experiment.</p>
<div class="codehilite"><pre><span></span>touch TOSCA-Metadata/TOSCA.meta
touch TOSCA-Metadata/Metadata.yaml
touch Definitions/experiment.yaml
</pre></div>

<p>The <em>TOSCA-Metadata/TOSCA.meta</em> file contains TOSCA specific configurations.</p>
<div class="codehilite"><pre><span></span>vim TOSCA-Metadata/TOSCA.meta
</pre></div>

<p>Here is the content of the file. You can change the <em>Created-By</em> value as you like.</p>
<div class="codehilite"><pre><span></span>TOSCA-Meta-File-Version: <span class="m">1</span>.0
CSAR-Version: <span class="m">1</span>.1
Created-By: SoftFIRE
Entry-Definitions: Definitions/experiment.yaml
</pre></div>

<p>The next file is the <em>TOSCA-Metadata/Metadata.yaml</em> file which contains information about the experiment.</p>
<div class="codehilite"><pre><span></span>vim TOSCA-Metadata/Metadata.yaml
</pre></div>

<p>The content has to look like this:</p>
<div class="codehilite"><pre><span></span>name: ExperimentIperf
start-date: <span class="s2">&quot;2017-7-2&quot;</span>
end-date: <span class="s2">&quot;2017-7-15&quot;</span>
</pre></div>

<p>Of course you can change the experiment\'s name, start and end date to your needs, but make sure you stick with the time format.</p>
<p>In the last file you specify the real definition of the experiment.</p>
<div class="codehilite"><pre><span></span>vim Definitions/experiment.yaml
</pre></div>

<p>Here is an example for the file's content:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;Template</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">SoftFIRE</span><span class="nv"> </span><span class="s">yaml</span><span class="nv"> </span><span class="s">resource</span><span class="nv"> </span><span class="s">request</span><span class="nv"> </span><span class="s">definition&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">imports</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">softfire_node_types</span><span class="p p-Indicator">:</span> <span class="s">&quot;http://docs.softfire.eu/etc/softfire_node_types.yaml&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">topology_template</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">node_templates</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">customnsd</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">resource_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu_clean</span>
        <span class="l l-Scalar l-Scalar-Plain">testbeds</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">ANY</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fokus</span>
        <span class="l l-Scalar l-Scalar-Plain">nsd_name</span><span class="p p-Indicator">:</span> <span class="s">&quot;ubuntu&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">file_name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Files/clean-ubuntu.csar</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">NfvResource</span>
<span class="l l-Scalar l-Scalar-Plain">tosca_definitions_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca_simple_yaml_1_0</span>
</pre></div>

<p>As you can see, the <em>node_templates</em> section contains a key named <em>customnsd</em>.
This is the resource which will contain our custom Network Service.
If you compare this experiment.yaml file with the one from the <a href="../nfv-tutorial-iperf/">Iperf tutorial</a>, you will recognize, that there are differences in the used fields.
The <em>resource_id</em> field changed from <em>iperf</em> to <em>ubuntu_clean</em>.
Since <em>iperf</em> is one of the provided Nfv resources by softfire, you could specify it in the experiment.yaml file and your experiment would use it.<br />
But now we want to use our own Nfv resource and therefore we change the resource_id to another value.
In this case we decided to name our resource_id <em>ubuntu_clean</em>.<br />
The next difference is the new <em>file_name</em> key. This points to the NSD which we want to use in our experiment and which we did not add yet.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the fields of this file are also explained in the <a href="../nfv-manager/">Nfv Manager page</a>.</p>
</div>
<h2 id="defining-the-network-service">Defining the Network Service<a class="headerlink" href="#defining-the-network-service" title="Permanent link">&para;</a></h2>
<p>Let's continue where we stopped in the previous section: the NSD file.<br />
We already specified in the experiment.yaml file where our custom NSD file resides, but we did not add it to our experiment yet.<br />
Since the file needs to be a csar archive (which is basically a zip archive with the .csar file ending) we will first create the folder structure and files and then compress it and put in its designated location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In-depth information about how to write a NSD with TOSCA and build a CSAR file with it can be found <a href="http://openbaton.github.io/documentation/tosca-CSAR-onboarding">here</a>.</p>
</div>
<p>Change into the <em>Files</em> directory</p>
<div class="codehilite"><pre><span></span><span class="nb">cd</span> Files
</pre></div>

<p>and create the folder structure and the necessary files:</p>
<div class="codehilite"><pre><span></span>mkdir TOSCA-Metadata
mkdir Scripts
mkdir Definitions
touch TOSCA-Metadata/TOSCA.meta
touch TOSCA-Metadata/Metadata.yaml
</pre></div>

<p>In the <em>TOSCA-Metadata/TOSCA.meta</em> file reside TOSCA related meta information.</p>
<div class="codehilite"><pre><span></span>TOSCA-Meta-File-Version: <span class="m">1</span>.0
CSAR-Version: <span class="m">1</span>.1
Created-By: TUB
Entry-Definitions: Definitions/ubuntu.yaml
</pre></div>

<p>You can modify the <em>Created-By</em> property and the <em>Entry-Definition</em>, which points to the TOSCA file describing the NSD.</p>
<p>The <em>TOSCA-Metadata/Metadata.yaml</em> file contains information about the NSD.</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu Example</span>
<span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu Example.</span>
<span class="l l-Scalar l-Scalar-Plain">provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TUB</span>
<span class="l l-Scalar l-Scalar-Plain">nfvo_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5.0.1</span>
<span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">upload</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="l l-Scalar l-Scalar-Plain">names</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu-16.04</span>
<span class="l l-Scalar l-Scalar-Plain">vim_types</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">openstack</span>
</pre></div>

<p>You can see the NSD\'s name and description and the NFVO version with which this NSD is compliant.
Furthermore the used image and the VIM types are defined. You can change those values as you need.</p>
<p>After this we can start to write the NSD.</p>
<div class="codehilite"><pre><span></span>touch Definitions/ubuntu.yaml
vim Definitions/ubuntu.yaml
</pre></div>

<p>In this file we will put all the information about the Network Service that we want to be represented by the resource_id <em>ubuntu_clean</em>.</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;NS</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">deploying</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">clean</span><span class="nv"> </span><span class="s">ubuntu</span><span class="nv"> </span><span class="s">machine&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">metadata</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ID</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Ubuntu</span>
  <span class="l l-Scalar l-Scalar-Plain">vendor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TUB</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="s">&quot;5.0.1&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">relationships_template</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">rel1</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_2</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
    <span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuclient</span>
    <span class="l l-Scalar l-Scalar-Plain">target</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuserver</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.relationships.ConnectsTo</span>
  <span class="l l-Scalar l-Scalar-Plain">rel2</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">parameters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_2</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal_floatingIp</span>
    <span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuserver</span>
    <span class="l l-Scalar l-Scalar-Plain">target</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuclient</span>
    <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.relationships.ConnectsTo</span>
<span class="l l-Scalar l-Scalar-Plain">topology_template</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">node_templates</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.VL</span>
    <span class="l l-Scalar l-Scalar-Plain">CP1</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">floatingIP</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">random</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualBinding</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU1</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.CP</span>
    <span class="l l-Scalar l-Scalar-Plain">CP2</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">floatingIP</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">random</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualBinding</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU2</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.CP</span>
    <span class="l l-Scalar l-Scalar-Plain">VDU1</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">scale_in_out</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtual_link</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">CP1</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.VDU</span>
    <span class="l l-Scalar l-Scalar-Plain">VDU2</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">scale_in_out</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtual_link</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">CP2</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca.nodes.nfv.VDU</span>
    <span class="l l-Scalar l-Scalar-Plain">ubuntuclient</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">lifecycle</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">INSTANTIATE</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">install.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">CONFIGURE</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuserver_relation.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">START</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">start.sh</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">configurations</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">configurationParameters</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_1</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_2</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_3</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_3</span>
          <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuclient-configuration</span>
        <span class="l l-Scalar l-Scalar-Plain">deploymentFlavour</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">flavour_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>
        <span class="l l-Scalar l-Scalar-Plain">endpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">generic</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuclient</span>
        <span class="l l-Scalar l-Scalar-Plain">vendor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TUB</span>
        <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">16.04</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">vdu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU1</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">openbaton.type.VNF</span>
    <span class="l l-Scalar l-Scalar-Plain">ubuntuserver</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">lifecycle</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">INSTANTIATE</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">install.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">CONFIGURE</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuclient_relation.sh</span>
          <span class="l l-Scalar l-Scalar-Plain">START</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">start.sh</span>
      <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">configurations</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">configurationParameters</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_1</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_2</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key_3</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value_3</span>
          <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuserver-configuration</span>
        <span class="l l-Scalar l-Scalar-Plain">deploymentFlavour</span><span class="p p-Indicator">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">flavour_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">m1.small</span>
        <span class="l l-Scalar l-Scalar-Plain">endpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">generic</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntuserver</span>
        <span class="l l-Scalar l-Scalar-Plain">vendor</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TUB</span>
        <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">16.04</span>
      <span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">virtualLink</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">softfire-internal</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">vdu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VDU2</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">openbaton.type.VNF</span>
<span class="l l-Scalar l-Scalar-Plain">tosca_definitions_version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tosca_clean_ubuntu</span>
</pre></div>

<p>As already mentioned for more information about the format of this TOSCA NSD file visit <a href="http://openbaton.github.io/documentation/tosca-CSAR-onboarding">this</a> site, as for now here is a shallow overview of the fields:</p>
<p>An NSD\'s main components are Virtual Network Function Descriptors (VNFD) which are connected and together form the NSD.
Each VNFD has its own functionality and role in a NSD.
The VNFDs in this example are specified in the yaml keys <em>ubuntuclient</em> and <em>ubuntuserver</em>.
In the end our Network Service will be built of a client and a server and the client will connect to the server.<br />
Each VNFD has lifecycles in which it executes lifecycle scripts. In our NSD you can see e.g. that the <em>ubuntuclient</em> VNFD runs a script called <em>install.sh</em> in its <em>INSTANTIATE</em> lifecycle.<br />
Furthermore VNFDs may have configuration parameters which are passed as key value pairs and are available in the scripts and an endpoint, which specifies the type of VNFM with which the VNFD shall be used.<br />
Each VNFD contains at least one Virtual Deployment Unit (VDU). With the help of VDUs it is possible to deploy a VNFD on different testbeds and to specify the maximum number of VNF instances which can be created by scaling out.
In our example the ubuntuclient only has one VDU, i.e. VDU1.<br />
Another important part of the NSD file are the relationships between VNFDs defined in the <em>relationships_template:</em> section.
Here you can specify dependencies which exist between VNFDs, e.g. if the client needs the IP address of the server.</p>
<p>Until now we only have the structure of our Network Service which consists of two VNFDs which themselves contain one VDU each.
But what about the functionality of the VNFDs? This is defined in the lifecycle scripts.
As we saw the VNFDs can have scripts which are executed in their different lifecycles.
The scripts are stored in the <em>Scripts</em> folder.
Let\'s create them.</p>
<div class="codehilite"><pre><span></span>mkdir -p Scripts/ubuntuserver
mkdir -p Scripts/ubuntuclient
touch Scripts/ubuntuserver/ubuntuclient_relation.sh
touch Scripts/ubuntuserver/start.sh
touch Scripts/ubuntuserver/install.sh
touch Scripts/ubuntuclient/ubuntuserver_relation.sh
touch Scripts/ubuntuclient/start.sh
touch Scripts/ubuntuclient/install.sh
</pre></div>

<p>The subfolder names correspond to the VNFD types in the <em>Definitions/ubuntu.yaml</em> file.</p>
<p>Here are the contents of the script files:</p>
<h6 id="scriptsubuntuserverinstallsh">Scripts/ubuntuserver/install.sh<a class="headerlink" href="#scriptsubuntuserverinstallsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;installing!!!&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Avoid long outputs! so redirect the output to a file that you can later check, for instance:&quot;</span>
sudo apt-get update &gt; /tmp/install.log
<span class="nb">echo</span> <span class="s2">&quot;apt update worked!&quot;</span>
sudo apt-get install -y cowsay &gt;&gt; /tmp/install.log

<span class="nb">echo</span> <span class="s2">&quot;check the env before running special commands&quot;</span>
env
<span class="nb">echo</span> <span class="s2">&quot;like this one...&quot;</span>
/usr/games/cowsay -f tux <span class="s2">&quot;install successfull&quot;</span>
</pre></div>

<p>This is the first script executed on the server. Here you can install software you need later.</p>
<h6 id="scriptsubuntuserverubuntuclient_relationsh">Scripts/ubuntuserver/ubuntuclient_relation.sh<a class="headerlink" href="#scriptsubuntuserverubuntuclient_relationsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;Better to redirect output...&quot;</span>

sudo apt-get install -y figlet &gt; /tmp/configure.sh

<span class="nb">echo</span> <span class="s2">&quot;first foreign key&quot;</span>
figlet <span class="nv">$ubuntuclient_key_1</span>
<span class="nb">echo</span> <span class="s2">&quot;second foreign key&quot;</span>
figlet <span class="nv">$ubuntuclient_key_2</span>
<span class="nb">echo</span> <span class="s2">&quot;foreign private ip&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$ubuntuclient_softfire_internal</span><span class="s2">&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;foreign floating ip&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$ubuntuclient_softfire_internal_floatingIp</span><span class="s2">&quot;</span>
</pre></div>

<p>This script prints out some of the values passed by the dependency, e.g. the client\'s configuration parameters and floating IP address.
The <em>CONFIGURE</em> lifecycle is the only one which has access to the dependency parameters so use it to configure your VNF.</p>
<h6 id="scriptsubuntuserverstartsh">Scripts/ubuntuserver/start.sh<a class="headerlink" href="#scriptsubuntuserverstartsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;start!!!&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Avoid long outputs! so redirect the output to a file that you can later check, for instance:&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;log description here&quot;</span> &gt; /tmp/start.log
/usr/games/cowsay -f tux <span class="s2">&quot;start finished worked!&quot;</span>
</pre></div>

<p>The script executed in the <em>START</em> lifecycle of the server.</p>
<h6 id="scriptsubuntuclientinstallsh">Scripts/ubuntuclient/install.sh<a class="headerlink" href="#scriptsubuntuclientinstallsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;installing!!!&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Avoid long outputs! so redirect the output to a file that you can later check, for instance:&quot;</span>
sudo apt-get update &gt; /tmp/install.log
<span class="nb">echo</span> <span class="s2">&quot;apt update worked!&quot;</span>
sudo apt-get install -y cowsay &gt;&gt; /tmp/install.log
<span class="nb">echo</span> <span class="s2">&quot;Check the env before running special commands!&quot;</span>
env
<span class="nb">echo</span> <span class="s2">&quot;this one for instance...&quot;</span>
/usr/games/cowsay -f tux <span class="s2">&quot;install successfull&quot;</span>
</pre></div>

<h6 id="scriptsubuntuclientubuntuserver_relationsh">Scripts/ubuntuclient/ubuntuserver_relation.sh<a class="headerlink" href="#scriptsubuntuclientubuntuserver_relationsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

sudo apt-get install -y figlet &gt; /tmp/configure.sh

<span class="nb">echo</span> <span class="s2">&quot;first foreign key&quot;</span>
figlet <span class="nv">$ubuntuserver_key_1</span>
<span class="nb">echo</span> <span class="s2">&quot;second foreign key&quot;</span>
figlet <span class="nv">$ubuntuserver_key_2</span>
<span class="nb">echo</span> <span class="s2">&quot;foreign private ip&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$ubuntuserver_softfire_internal</span><span class="s2">&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;foreign floating ip&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$ubuntuserver_softfire_internal_floatingIp</span><span class="s2">&quot;</span>
</pre></div>

<h6 id="scriptsubuntuclientstartsh">Scripts/ubuntuclient/start.sh<a class="headerlink" href="#scriptsubuntuclientstartsh" title="Permanent link">&para;</a></h6>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;start!!!&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Avoid long outputs! so redirect the output to a file that you can later check, for instance:&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;log description here&quot;</span> &gt; /tmp/start.log
/usr/games/cowsay -f tux <span class="s2">&quot;start finished worked!&quot;</span>
</pre></div>

<p>This is everything we need for our NSD. Now we can archive everything as a csar archive.</p>
<div class="codehilite"><pre><span></span>zip -r clean-ubuntu.csar . -x <span class="s2">&quot;.*&quot;</span> -x <span class="s2">&quot;*/.*&quot;</span>
</pre></div>

<p>Now that the archive is created you can delete the files and directories if you want to.</p>
<p>The last step is to compress also the complete experiment to a csar file.</p>
<div class="codehilite"><pre><span></span><span class="nb">cd</span> ..
zip -r my-experiment.csar . -x <span class="s2">&quot;.*&quot;</span> -x <span class="s2">&quot;*/.*&quot;</span>
</pre></div>

<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>In this tutorial we created an experiment with a custom Nfv resources.
For this we created an experiment as usual, but instead of referencing a resource_id which is already provided by SoftFIRE, we used our own.
Then we created a NSD written in TOSCA and built a csar archive for it.
We placed the archive in the experiments <em>Files</em> folder and compressed the whole experiment into a csar archive.<br />
For uploading and running the experiment you can refer to the <a href="../nfv-tutorial-iperf#putting-all-together">Iperf tutorial</a> as the procedure is the same.</p>
<!--
References:  
-->

<!---
 Script for open external links in a new tab
-->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>

<script type="text/javascript" charset="utf-8">
      // Creating custom :external selector
      $.expr[':'].external = function(obj){
          return !obj.href.match(/^mailto\:/)
                  && (obj.hostname != location.hostname);
      };
      $(function(){
        $('a:external').addClass('external');
        $(".external").attr('target','_blank');
      })
</script>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../nfv-tutorial-iperf/" title="Iperf" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Iperf
              </span>
            </div>
          </a>
        
        
          <a href="../nfv-tutorial-monitoring-vnf/" title="Monitoring-VNF" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Monitoring-VNF
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2016-2018 SoftFIRE (http://softfire.eu)
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/SoftFIRE-eu" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://softfire.slack.com/" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://hub.docker.com/r/softfire/softfire-middleware/" class="md-footer-social__link fa fa-docker"></a>
    
      <a href="https://www.linkedin.com/company-beta/15145251/" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.youtube.com/channel/UCYEe_8W-0vJ97-1OXsSjU8A" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>